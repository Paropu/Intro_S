import java.io.IOException;
import java.net.InetAddress;
import java.net.UnknownHostException;

public class Intro_Sockets {
	public static void main (String args[]){
		try {
			System.out.println("Proceso actual: "+Runtime.getRuntime());
			System.out.println("Proceso nuevo: "+Runtime.getRuntime().exec("ls"));
			Runtime.getRuntime().halt(0);
			Runtime.getRuntime().exec("cd Desktop");
			Runtime.getRuntime().exec("exec ls");
		} catch (IOException e1) {
			e1.printStackTrace();
		}
		String aplicacion=args[0].toLowerCase();
		switch (aplicacion) {
		case "s": //SERVIDOR
			Integer puerto = Integer.parseInt(args[1]);
			new Servidor(puerto);
			break;
		case "c": //CLIENTE
			InetAddress IPServidor;
			Integer puertoServer = Integer.parseInt(args[2]);
			try {
				IPServidor = InetAddress.getByName(args[1]);
				new Cliente(IPServidor, puertoServer);
			} catch (UnknownHostException e) {
				e.printStackTrace();
			}
			break;
		}
	}
}